<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<head th:replace="~{layout/layout.html :: head}"/>
    <body>
        <!-- form de registro -->
        <section class="container my-5" th:fragment="formRegistro">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-center">Registro de Usuario</h3>
                        </div>
                        <div class="card-body">
                            <form method="POST" th:action="@{/usuario/registro}" th:object="${usuario}" enctype="multipart/form-data">
                                <div class="form-group mb-3">
                                    <label for="username">Nombre de Usuario</label>
                                    <input type="text" class="form-control" id="username" name="username" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="nombre">Nombre</label>
                                    <input type="text" class="form-control" id="nombre" name="nombre" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="primerApellido">Primer Apellido</label>
                                    <input type="text" class="form-control" id="primerApellido" name="primerApellido" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="segundoApellido">Segundo Apellido</label>
                                    <input type="text" class="form-control" id="segundoApellido" name="segundoApellido" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="correoElectronico">Correo Electrónico</label>
                                    <input type="email" class="form-control" id="correoElectronico" name="correoElectronico" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="password">Contraseña</label>
                                    <input type="password" class="form-control" id="password" name="password" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="telefono">Teléfono</label>
                                    <input type="text" class="form-control" id="telefono" name="telefono" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="direccion">Dirección</label>
                                    <input type="text" class="form-control" id="direccion" name="direccion" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="imagenFile">Subir Imagen</label>
                                    <input type="file" class="form-control" id="imagenFile" name="imagenFile">
                                </div>
                                <button type="submit" class="btn btn-primary w-100">Registrar</button>
                            </form>
                        </div>
                        <div class="card-footer text-center">
                            <a th:href="@{/login}" class="text-decoration-none">Si ya tienes una cuenta, inicia sesion aqui</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- tabla de usuarios -->
        <table class="table table-striped table-hover" th:fragment="tablaUsuario">
            <thead>
                <tr>
                    <th># Usuario</th>
                    <th>Nombre de Usuario</th>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Correo Electrónico</th>
                    <th>Telefono</th>
                    <th>Dirección</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="usuario : ${usuarios}">
                    <td th:text="${usuario.idUsuario}"></td>
                    <td th:text="${usuario.username}"></td>
                    <td th:text="${usuario.nombre}"></td>
                    <td th:text="${usuario.primerApellido} + ' ' + ${usuario.segundoApellido}"></td>
                    <td th:text="${usuario.correoElectronico}"></td>
                    <td th:text="${usuario.telefono}"></td>
                    <td th:text="${usuario.direccion}"></td>
                </tr>
            </tbody>
        </table>

        <!-- form de registro admin -->
        <section class="container my-5" th:fragment="agregarUsuario">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-center">Nuevo Usuario</h3>
                        </div>
                        <div class="card-body">
                            <form method="POST" th:action="@{/usuario/guardar}" th:object="${usuario}" enctype="multipart/form-data">
                                <div class="form-group mb-3">
                                    <label for="username">Nombre de Usuario</label>
                                    <input type="text" class="form-control" id="username" name="username" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="nombre">Nombre</label>
                                    <input type="text" class="form-control" id="nombre" name="nombre" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="primerApellido">Primer Apellido</label>
                                    <input type="text" class="form-control" id="primerApellido" name="primerApellido" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="segundoApellido">Segundo Apellido</label>
                                    <input type="text" class="form-control" id="segundoApellido" name="segundoApellido" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="correoElectronico">Correo Electrónico</label>
                                    <input type="email" class="form-control" id="correoElectronico" name="correoElectronico" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="password">Contraseña</label>
                                    <input type="password" class="form-control" id="password" name="password" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="telefono">Teléfono</label>
                                    <input type="text" class="form-control" id="telefono" name="telefono" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="direccion">Dirección</label>
                                    <input type="text" class="form-control" id="direccion" name="direccion" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="imagenFile">Subir Imagen</label>
                                    <input type="file" class="form-control" id="imagenFile" name="imagenFile">
                                </div>
                                <div class="d-flex justify-content-between">
                                    <button type="submit" class="btn btn-primary mt-2 flex-grow-1 me-2">Agregar</button>
                                    <a th:href="@{/usuario/listado}" class="btn btn-danger mt-2 flex-grow-1">Cancelar</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- form de modificacion -->
        <section class="container my-5" th:fragment="editarUsuario">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-center">Editar Usuario</h3>
                        </div>
                        <div class="card-body">
                            <form method="POST" th:action="@{/usuario/modificar}" th:object="${usuario}" class="was-validated" enctype="multipart/form-data">
                                <input type="hidden" id="idUsuario" name="idUsuario" th:field="*{idUsuario}"/>
                                <div class="form-group mb-3">
                                    <label for="username">Nombre de Usuario</label>
                                    <input type="text" class="form-control" id="username" name="username" th:field="*{username}" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="nombre">Nombre</label>
                                    <input type="text" class="form-control" id="nombre" name="nombre" th:field="*{nombre}" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="primerApellido">Primer Apellido</label>
                                    <input type="text" class="form-control" id="primerApellido" name="primerApellido" th:field="*{primerApellido}" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="segundoApellido">Segundo Apellido</label>
                                    <input type="text" class="form-control" id="segundoApellido" name="segundoApellido" th:field="*{segundoApellido}" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="correoElectronico">Correo Electrónico</label>
                                    <input type="email" class="form-control" id="correoElectronico" name="correoElectronico" th:field="*{correoElectronico}" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="password">Contraseña</label>
                                    <input type="password" class="form-control" id="password" name="password" th:field="*{password}">
                                </div>
                                <div class="form-group mb-3">
                                    <label for="telefono">Teléfono</label>
                                    <input type="text" class="form-control" id="telefono" name="telefono" th:field="*{telefono}" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="direccion">Dirección</label>
                                    <input type="text" class="form-control" id="direccion" name="direccion" th:field="*{direccion}" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="imagenFile">Subir Imagen</label>
                                    <input type="file" class="form-control" id="imagenFile" name="imagenFile">
                                </div>
                                <div class="d-flex justify-content-between">
                                    <button type="submit" class="btn btn-primary mt-2 flex-grow-1 me-2">Editar</button>
                                    <a th:href="@{/usuario/listado}" class="btn btn-danger mt-2 flex-grow-1">Cancelar</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- mi perfil -->
        <section th:fragment="miPerfil" class="container my-5">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-center">Mi Perfil</h3>
                        </div>
                        <div class="card-body">
                            <div class="form-group mb-3">
                                <label for="username">Nombre de Usuario</label>
                                <input type="text" class="form-control" id="username" name="username" th:value="${usuario.username}" readonly>
                            </div>
                            <div class="form-group mb-3">
                                <label for="nombre">Nombre</label>
                                <input type="text" class="form-control" id="nombre" name="nombre" th:value="${usuario.nombre}" readonly>
                            </div>
                            <div class="form-group mb-3">
                                <label for="primerApellido">Primer Apellido</label>
                                <input type="text" class="form-control" id="primerApellido" name="primerApellido" th:value="${usuario.primerApellido}" readonly>
                            </div>
                            <div class="form-group
                            mb-3">
                                <label for="segundoApellido">Segundo Apellido</label>
                                <input type="text" class="form-control" id="segundoApellido" name="segundoApellido" th:value="${usuario.segundoApellido}" readonly>
                            </div>
                            <div class="form-group mb-3">
                                <label for="correoElectronico">Correo Electrónico</label>
                                <input type="email" class="form-control" id="correoElectronico" name="correoElectronico" th:value="${usuario.correoElectronico}" readonly>
                            </div>
                            <div class="form-group mb-3">
                                <label for="telefono">Teléfono</label>
                                <input type="text" class="form-control" id="telefono" name="telefono" th:value="${usuario.telefono}" readonly>
                            </div>
                            <div class="form-group
                            mb-3">
                                <label for="direccion">Dirección</label>
                                <input type="text" class="form-control" id="direccion" name="direccion" th:value="${usuario.direccion}" readonly>
                            </div>
                            <div class="d-flex justify-content-between">
                                <a th:href="@{/usuario/editar}" class="btn btn-primary mt-2 flex-grow-1 me-2">Editar</a>
                                <a th:href="@{/usuario/listado}" class="btn btn-danger mt-2 flex-grow-1">Cancelar</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </body>
</html>